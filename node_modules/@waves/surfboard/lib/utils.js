"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const https_1 = tslib_1.__importDefault(require("https"));
const fs_1 = tslib_1.__importDefault(require("fs"));
async function downloadHttps(url, dest) {
    const file = fs_1.default.createWriteStream(dest);
    return new Promise((resolve, reject) => {
        const request = https_1.default.get(url, function (response) {
            response.pipe(file);
            file.on('finish', function () {
                file.close();
                resolve();
            });
        }).on('error', function (err) {
            fs_1.default.unlinkSync(dest);
            reject(err);
        });
    });
}
exports.downloadHttps = downloadHttps;
;
//# sourceMappingURL=utils.js.map